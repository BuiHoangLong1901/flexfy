import{r as o}from"./index.6460afdd.js";import{j as r}from"./jsx-runtime.51014c9d.js";import{m as D}from"./motion.a2ef69fa.js";let m={top:0,left:0,x:0,y:0};const w={visible:{opacity:1,y:0,transition:{duration:.5,delay:.2}},hidden:{opacity:0,y:10}},R=({items:e,className:t,smooth:s=1,pagination:n=!1,navigation:l})=>{const[a,c]=o.useState(0),i=o.useRef(null),[u,d]=o.useState(!1),[f,p]=o.useState(!1);o.useEffect((()=>{i.current&&(i.current.scrollLeft=0,c(0))}),[e]);const[h,x]=o.useState({pre:!1,next:!1}),b=e=>{i.current&&(i.current.style.scrollBehavior="smooth",i.current.scrollLeft+=e)},v=e=>{e.preventDefault();e.target.onclick=()=>f,i.current&&u&&(i.current.style.cursor="grab",d(!1),p(!0))};return r.jsxs(D.div,{animate:{opacity:1,y:0},initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.2},variants:w,onAnimationComplete:()=>{if(i.current){const e=Array.from(i.current?.children).reduce(((e,t)=>e+t.offsetWidth),0);x((t=>({...t,next:e>=Number(i.current?.offsetWidth||0)})))}},className:`${t} carousel-common product-detail-images`,children:[l&&r.jsxs("div",{className:"product-list-action",children:[r.jsx("button",{disabled:!h.pre,"aria-label":"button_previous",className:"button-previous",onClick:()=>b(-400),children:r.jsx("span",{className:`btn-prev ${!h.pre&&"disable"}`})}),r.jsx("button",{disabled:!h.next,"aria-label":"button_next",className:"button-next",onClick:()=>b(400),children:r.jsx("span",{className:`btn-next ${!h.next&&"disable"}`})})]}),r.jsx("div",{className:"product-detail-slider",children:r.jsx("div",{className:"product-detail-slider-track",onMouseDown:e=>{e.preventDefault(),i.current&&!u&&(i.current.style.cursor="grabbing",i.current.style.scrollBehavior="unset",m={left:i.current.scrollLeft,top:i.current.scrollTop,x:e.clientX,y:e.clientY},d(!0),p(!0))},onMouseMove:e=>{const{current:t}=i;if(e.preventDefault(),t&&u){p(!1);const{x:r,y:o,left:n,top:l}=m;t.scrollTop=l-(e.clientY-o),t.scrollLeft=n-(e.clientX-r)*s,c(Math.round(t.scrollLeft/t.offsetWidth))}},onMouseUp:v,onMouseLeave:v,ref:i,onScroll:({currentTarget:e})=>{x({next:e.scrollWidth-e.offsetWidth-e.scrollLeft>1,pre:0!==e.scrollLeft})},children:e.map(((e,t)=>r.jsx(o.Fragment,{children:e},t)))})}),n&&r.jsx("div",{className:"product-detail-slider-footer",children:r.jsx("ul",{className:"product-detail-dots",children:Array.from({length:e.length},((e,t)=>r.jsx("li",{"aria-label":"dot_"+t,onClick:()=>(e=>{c(e),i.current&&i.current.scrollTo({left:e*i.current.offsetWidth,behavior:"smooth"})})(t),className:`${t===a&&"active"}`},"dot_"+t)))})})]})};export{R as C};
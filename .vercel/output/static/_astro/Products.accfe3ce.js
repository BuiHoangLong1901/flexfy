import{r as l}from"./index.6460afdd.js";import{h as f}from"./api.eeeec7c9.js";import{C as g}from"./Card.a2f5878d.js";import{M as v}from"./index.43350be7.js";import{Category as b}from"./Category.46379656.js";import{Color as C}from"./ListColor.c3108ac8.js";import{Size as y}from"./ListSize.a835fa56.js";import{Menu as k}from"./Menu.558ddd48.js";import{j as e}from"./jsx-runtime.51014c9d.js";import{A as P}from"./index.1f58fc00.js";import{m as j}from"./motion.a2ef69fa.js";import{a as S}from"./Image.968f2dea.js";import"./index.a93e95c3.js";import"./icon.145b014b.js";import"./cart-store.61651627.js";import"./middleware.ce65d969.js";import"./app.5d84f5d9.js";import"./SelectBox.a2c91b32.js";import"./index.9bf3d1a7.js";import"./Collapse.29f4b884.js";import"./use-animation.169a1666.js";import"./product-option-store.4a93098e.js";const F={visible:{opacity:1},hidden:{opacity:0}},M=({slug:o,category:n})=>{const[i,s]=l.useState(!1);return e.jsxs(P,{initial:!1,onExitComplete:()=>null,children:[e.jsx(j.div,{transition:{opacity:{duration:.5,delay:.4}},initial:"hidden",animate:"visible",variants:F,className:"filter-container",onClick:()=>s(!0),children:e.jsxs("span",{className:"filter-text",children:["choose your size ",e.jsx("span",{className:"filter-icon",children:"+"})]})}),i&&e.jsxs(v,{cl:!0,showModal:i,setShowModal:()=>s(!0),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("span",{className:"title",children:"FILTER BY"}),e.jsx("span",{onClick:()=>s(!1),className:"close",children:"X"})]}),e.jsxs("div",{className:"modal-content",children:[e.jsx(b,{data:n,slug:o}),e.jsx(k,{}),e.jsx(C,{slug:o}),e.jsx(y,{slug:o}),e.jsx("div",{className:"modal-footer",children:e.jsxs("span",{className:"modal-button",onClick:()=>s(!i),children:[e.jsx("span",{children:"X"}),e.jsx("span",{children:"Close"})]})})]})]})]})},z=o=>{const{onChange:n,totalRecords:i,defaultValue:s,pageSize:p}=o,[a,m]=l.useState(s);l.useEffect(()=>{m(s)},[s]);const r=Number(i)/Number(p),c=d=>{n&&n(d),m(d)};return e.jsxs("div",{id:"pagination",children:[Number(a)>1&&e.jsx("span",{onClick:()=>c(Number(a)-1),className:"prev",children:"Prev"}),e.jsxs("div",{className:"page-index",children:[Number(a)>=3&&e.jsx("span",{onClick:()=>c(1),children:"1"}),Number(a)>=3&&e.jsx("span",{className:"no-index",children:"..."}),Array.from({length:Number(r.toFixed(0))},(d,u)=>{const t=u+1;return t==Number(a)-1||t==Number(a)+1||t==a?e.jsx("span",{onClick:()=>{t!=a&&c(t)},className:`${t==a&&"active"}`,children:t}):e.jsx(e.Fragment,{})}),Number(r)-Number(a)>=2&&e.jsx("span",{className:"no-index",children:"..."}),Number(r)-Number(a)>=1&&e.jsx("span",{onClick:()=>c(Number(r.toFixed(0))),children:r.toFixed(0)})]}),Number(a)*Number(p)<Number(i)&&e.jsx("span",{onClick:()=>c(Number(a)+1),className:"next",children:"Next"})]})},h={enter:{opacity:0},center:{zIndex:1,opacity:1}},W=o=>{const{category:n,slug:i}=o,[s,p]=l.useState(4),[a,m]=l.useState(!0),[r,c]=l.useState(),d=t=>p(t),u=async t=>{m(!0),c(null);const x=await f(t);c(x),m(!1)};return l.useEffect(()=>{u()},[]),e.jsxs(e.Fragment,{children:[e.jsx(S,{ariaLabel:"product-thumbnail",alt:`thumbnail_${i}`,transition:{opacity:{duration:.5,delay:.2}},initial:"enter",animate:"center",variants:h,className:"banner",src:n?.banner}),e.jsx(M,{category:n,slug:i}),e.jsxs(j.div,{transition:{opacity:{duration:.5,delay:.7}},initial:"enter",animate:"center",variants:h,className:"product-container",children:[e.jsxs("div",{className:"header-text",children:[e.jsx("span",{className:"title",children:n?.name}),e.jsx("span",{className:"description",children:n?.description})]}),e.jsxs("div",{className:"header-column",children:[e.jsx(N,{handleClick:d,value:2,active:s==2}),e.jsx(N,{handleClick:d,value:4,active:s==4})]})]}),e.jsx("div",{style:{opacity:a?.2:1},className:`product-list-container ${s==2?"grid_2":"grid_4"} `,children:r?.data.length?e.jsx(e.Fragment,{children:r?.data.map((t,x)=>e.jsx(j.div,{transition:{opacity:{duration:.5,delay:.2+(x/10+.2)}},initial:"enter",animate:"center",variants:h,children:e.jsx(g,{className:"product-card",product:t})}))}):e.jsx(e.Fragment,{})}),e.jsx(z,{onChange:t=>u({page:t}),totalRecords:r?.pagination.totalRecords,pageSize:r?.pagination.pageSize,defaultValue:r?.pagination.page})]})},N=o=>{const{value:n,active:i,handleClick:s}=o;return e.jsx("span",{onClick:()=>s(n),className:`text ${i&&"active"}`,children:n})};export{W as Products};

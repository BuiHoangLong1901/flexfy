import{r as w,g as P}from"./index.6460afdd.js";const x=e=>{let t;const r=new Set,n=(e,n)=>{const a="function"==typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=n??"object"!=typeof a?a:Object.assign({},t,a),r.forEach((r=>r(t,e)))}},a=()=>t,o={setState:n,getState:a,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{r.clear()}};return t=e(n,a,o),o},T=e=>e?x(e):x;var _={exports:{}},F={},O={exports:{}},A={},g=w;function H(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var j="function"==typeof Object.is?Object.is:H,k=g.useState,L=g.useEffect,$=g.useLayoutEffect,q=g.useDebugValue;function z(e,t){var r=t(),n=k({inst:{value:r,getSnapshot:t}}),a=n[0].inst,o=n[1];return $((function(){a.value=r,a.getSnapshot=t,R(a)&&o({inst:a})}),[e,r,t]),L((function(){return R(a)&&o({inst:a}),e((function(){R(a)&&o({inst:a})}))}),[e]),q(r),r}function R(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!j(e,r)}catch{return!0}}function U(e,t){return t()}var C=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?U:z;A.useSyncExternalStore=void 0!==g.useSyncExternalStore?g.useSyncExternalStore:C,O.exports=A;var W=O.exports,I=w,B=W;function J(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var M="function"==typeof Object.is?Object.is:J,N=B.useSyncExternalStore,X=I.useRef,G=I.useEffect,K=I.useMemo,Q=I.useDebugValue;F.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var o=X(null);if(null===o.current){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=K((function(){function e(e){if(!u){if(u=!0,o=e,e=n(e),void 0!==a&&i.hasValue){var t=i.value;if(a(t,e))return s=t}return s=e}if(t=s,M(o,e))return t;var r=n(e);return void 0!==a&&a(t,r)?t:(o=e,s=r)}var o,s,u=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,r,n,a]);var s=N(e,o[0],o[1]);return G((function(){i.hasValue=!0,i.value=s}),[s]),Q(s),s},_.exports=F;var Y=_.exports;const Z=P(Y),{useSyncExternalStoreWithSelector:V}=Z;function ee(e,t=e.getState,r){const n=V(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return w.useDebugValue(n),n}const D=e=>{const t="function"==typeof e?T(e):e,r=(e,r)=>ee(t,e,r);return Object.assign(r,t),r},ie=e=>e?D(e):D;function te(e,t){let r;try{r=e()}catch{return}return{getItem:e=>{var n;const a=e=>null===e?null:JSON.parse(e,t?.reviver),o=null!=(n=r.getItem(e))?n:null;return o instanceof Promise?o.then(a):a(o)},setItem:(e,n)=>r.setItem(e,JSON.stringify(n,t?.replacer)),removeItem:e=>r.removeItem(e)}}const b=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>b(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>b(t)(e)}}},re=(e,t)=>(r,n,a)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const s=new Set,u=new Set;let c;try{c=o.getStorage()}catch{}if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)}),n,a);const l=b(o.serialize),d=()=>{const e=o.partialize({...n()});let t;const r=l({state:e,version:o.version}).then((e=>c.setItem(o.name,e))).catch((e=>{t=e}));if(t)throw t;return r},f=a.setState;a.setState=(e,t)=>{f(e,t),d()};const g=e(((...e)=>{r(...e),d()}),n,a);let v;const m=()=>{var e;if(!c)return;i=!1,s.forEach((e=>e(n())));const t=(null==(e=o.onRehydrateStorage)?void 0:e.call(o,n()))||void 0;return b(c.getItem.bind(c))(o.name).then((e=>{if(e)return o.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return e.state;if(o.migrate)return o.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return v=o.merge(e,null!=(t=n())?t:g),r(v,!0),d()})).then((()=>{t?.(v,void 0),i=!0,u.forEach((e=>e(v)))})).catch((e=>{t?.(void 0,e)}))};return a.persist={setOptions:e=>{o={...o,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:e=>(s.add(e),()=>{s.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},m(),v||g},ne=(e,t)=>(r,n,a)=>{let o={storage:te((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const s=new Set,u=new Set;let c=o.storage;if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)}),n,a);const l=()=>{const e=o.partialize({...n()});return c.setItem(o.name,{state:e,version:o.version})},d=a.setState;a.setState=(e,t)=>{d(e,t),l()};const f=e(((...e)=>{r(...e),l()}),n,a);let g;const v=()=>{var e,t;if(!c)return;i=!1,s.forEach((e=>{var t;return e(null!=(t=n())?t:f)}));const a=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=n())?e:f))||void 0;return b(c.getItem.bind(c))(o.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return e.state;if(o.migrate)return o.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return g=o.merge(e,null!=(t=n())?t:f),r(g,!0),l()})).then((()=>{a?.(g,void 0),g=n(),i=!0,u.forEach((e=>e(g)))})).catch((e=>{a?.(void 0,e)}))};return a.persist={setOptions:e=>{o={...o,...e},e.storage&&(c=e.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>v(),hasHydrated:()=>i,onHydrate:e=>(s.add(e),()=>{s.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},o.skipHydration||v(),g||f},oe=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?re(e,t):ne(e,t),ae=oe;export{te as a,ie as c,ae as p};
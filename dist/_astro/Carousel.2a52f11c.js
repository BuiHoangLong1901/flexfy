import{r as o,j as r}from"./jsx-runtime.33c17f51.js";import{m as D}from"./motion.07eef3f2.js";let m={top:0,left:0,x:0,y:0};const w={visible:{opacity:1,y:0,transition:{duration:.5,delay:.2}},hidden:{opacity:0,y:10}},I=({items:n,className:x,smooth:b=1,pagination:v=!1,navigation:y})=>{const[j,a]=o.useState(0),t=o.useRef(null),[c,d]=o.useState(!1),[M,i]=o.useState(!1);o.useEffect(()=>{t.current&&(t.current.scrollLeft=0,a(0))},[n]);const[l,f]=o.useState({pre:!1,next:!1}),p=e=>{t.current&&(t.current.style.scrollBehavior="smooth",t.current.scrollLeft+=e)},N=()=>{if(t.current){const e=Array.from(t.current?.children).reduce((s,u)=>s+u.offsetWidth,0);f(s=>({...s,next:e>=Number(t.current?.offsetWidth||0)}))}},L=e=>{e.preventDefault(),t.current&&!c&&(t.current.style.cursor="grabbing",t.current.style.scrollBehavior="unset",m={left:t.current.scrollLeft,top:t.current.scrollTop,x:e.clientX,y:e.clientY},d(!0),i(!0))},S=e=>{const{current:s}=t;if(e.preventDefault(),s&&c){i(!1);const{x:u,y:W,left:g,top:k}=m;s.scrollTop=k-(e.clientY-W),s.scrollLeft=g-(e.clientX-u)*b,a(Math.round(s.scrollLeft/s.offsetWidth))}},h=e=>{e.preventDefault();const s=e.target;s.onclick=()=>M,t.current&&c&&(t.current.style.cursor="grab",d(!1),i(!0))},C=e=>{a(e),t.current&&t.current.scrollTo({left:e*t.current.offsetWidth,behavior:"smooth"})};return r.jsxs(D.div,{animate:{opacity:1,y:0},initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.2},variants:w,onAnimationComplete:N,className:`${x} carousel-common product-detail-images`,children:[y&&r.jsxs("div",{className:"product-list-action",children:[r.jsx("button",{disabled:!l.pre,"aria-label":"button_previous",className:"button-previous",onClick:()=>p(-400),children:r.jsx("span",{className:`btn-prev ${!l.pre&&"disable"}`})}),r.jsx("button",{disabled:!l.next,"aria-label":"button_next",className:"button-next",onClick:()=>p(400),children:r.jsx("span",{className:`btn-next ${!l.next&&"disable"}`})})]}),r.jsx("div",{className:"product-detail-slider",children:r.jsx("div",{className:"product-detail-slider-track",onMouseDown:L,onMouseMove:S,onMouseUp:h,onMouseLeave:h,ref:t,onScroll:({currentTarget:e})=>{f({next:e.scrollWidth-e.offsetWidth-e.scrollLeft>1,pre:e.scrollLeft!==0})},children:n.map((e,s)=>r.jsx(o.Fragment,{children:e},s))})}),v&&r.jsx("div",{className:"product-detail-slider-footer",children:r.jsx("ul",{className:"product-detail-dots",children:Array.from({length:n.length},(e,s)=>r.jsx("li",{"aria-label":"dot_"+s,onClick:()=>C(s),className:`${s===j&&"active"}`},"dot_"+s))})})]})};export{I as C};

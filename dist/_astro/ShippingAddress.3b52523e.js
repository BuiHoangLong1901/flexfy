import{r as t,j as a}from"./jsx-runtime.33c17f51.js";import{F as s,a as f}from"./FormProvider.a16327c5.js";import{u as N}from"./index.6bc0e3f1.js";import{d as q}from"./api.eeeec7c9.js";import{u as b}from"./use-animation.eaf398e2.js";import{m as T}from"./motion.07eef3f2.js";import"./SelectBox.508b9173.js";import"./Image.81d07615.js";const j={visible:{opacity:1,x:0,transition:{duration:.5,delay:.2}},hidden:{opacity:0,x:-10}};let n=[{name:"country_region",required:{value:!0,message:"This field is required"},type:s.SELECT,label:"Country/region",data:[]},{name:"firstName",required:{value:!0,message:"This field is required"},type:s.INPUT,placeholder:"First name",className:"payment-input-address-detail",minLength:{value:10,message:"Minimum 10 characters required"},maxLength:{value:25,message:"Minimum 25 characters required"}},{name:"lastName",required:{value:!0,message:"This field is required"},type:s.INPUT,placeholder:"Last name",className:"payment-input-address-detail",minLength:{value:10,message:"Minimum 10 characters required"},maxLength:{value:25,message:"Minimum 25 characters required"}},{name:"address",required:{value:!0,message:"This field is required"},type:s.INPUT,placeholder:"Address",className:"payment-input-address-detail",minLength:{value:10,message:"Minimum 10 characters required"},maxLength:{value:25,message:"Minimum 25 characters required"}},{name:"optional",type:s.INPUT,placeholder:"Apartment, suite, etc. (optional)",className:"payment-input-address-detail"},{name:"city",required:{value:!0,message:"This field is required"},type:s.INPUT,placeholder:"City",className:"payment-input-address-detail",minLength:{value:10,message:"Minimum 10 characters required"},maxLength:{value:25,message:"Minimum 25 characters required"}},{name:"state",required:{value:!0,message:"This field is required"},type:s.SELECT,label:"State",className:"select-state",data:[]},{name:"zipCode",required:{value:!0,message:"This field is required"},type:s.INPUT,placeholder:"ZIP code",className:"payment-input-address-detail"},{name:"phoneNumber",required:{value:!0,message:"This field is required"},type:s.NUMBER,placeholder:"Phone",className:"payment-input-phone"}];const S=()=>{const m=b(),[l,u]=t.useState(),[i,p]=t.useState([]),[h,c]=N(),d=t.useRef(null),g=async()=>{const e=await q();e&&p(e)};t.useEffect(()=>{c&&(m.start("visible"),i.length==0&&g())},[m,c]);const o={country_region:{data:i,map:e=>({label:e.name,value:e.code,...e})},state:{data:l||i[0]?.provinces,map:e=>({label:e.name,value:e.code})}};n=n.map(e=>{const r=o[e.name]?.data,x=o[e.name]?.map;return{...e,data:r?.map(x)}});const y=e=>{u(e.country_region.provinces)},v=()=>{const{current:{isValidate:e,formValues:r}}=d;console.log(r())};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"payment-shipping-address",ref:h,children:[a.jsx("div",{className:"payment-shipping-title",children:a.jsx("h2",{children:"Shipping address"})}),a.jsxs(T.div,{variants:j,animate:{opacity:1,y:0},initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.2},children:[a.jsx(f,{className:"payment-address-form",ref:d,inputs:n,setValues:y}),a.jsx("div",{className:"payment-contact-confirm",children:a.jsxs("label",{htmlFor:"checkbox-2",className:"checkbox",children:[a.jsxs("div",{className:"checkbox-div",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0,name:"checkbok-1",id:"checkbox-2"}),a.jsx("span",{className:"check-icon"})]}),a.jsx("span",{children:"Text me about secret waitlists, VIP-only promotions and crew-obsessed drops!"})]})}),a.jsx("button",{className:"continue-shipping",type:"submit",onClick:v,children:"Continue to shipping"})]})]})})};export{S as ShippingAddress};
